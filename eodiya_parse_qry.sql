INSERT INTO `buildings` (`build_name`, `latitude`, `longitude`, `address_street`, `last_update`) SELECT DISTINCT `build_name`, `latitude`,`longitude`, `address_street`, `last_update`FROM `cheonan`;

insert into `facilities` (`facility_name`,`closed`,`weekday_start`,`weekday_end`,`weekend_start`,`weekend_end`,`paid`,`paid_std_time`,`usage_fee`,`overtime_std`,`overrime_usage_fee`,`application`,`tel`,`website`,`buildingBuildId`) select a.facility_name,a.closed,a.weekday_start,a.weekday_end,a.weekend_start,a.weekend_end,a.paid,a.paid_std_time,a.usage_fee,a.overtime_std,a.overrime_usage_fee,a.application,a.tel,a.website, b.build_id from (select * from `cheonan`) as a LEFT JOIN (select `build_id`, `build_name`, `latitude`, `longitude` from `buildings`) as b ON a.build_name = b.build_name and a.latitude = b.latitude and a.longitude = b.longitude;